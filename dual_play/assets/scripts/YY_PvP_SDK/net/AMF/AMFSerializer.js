const AmfTypes=require('\x2e\x2fAmfTypes');const BinaryParser=require('\x2e\x2fBinaryParser');const utf8=require('\x2e\x2futf8');var AMFDeserializer=cc['Class']({'\x70\x72\x6f\x70\x65\x72\x74\x69\x65\x73':{},'\x63\x74\x6f\x72':function(){this['inited']=![];},'\x73\x68\x6f\x77\x5f\x69\x6e\x69\x74\x5f\x65\x72\x72\x6f\x72':function(){cc['log']('error\x3a\x20AMFDeserializer\x20Initialization\x20first\x21\x21\x21');},'\x69\x6e\x69\x74':function(_0x5c46ed){var _0x2a4914='2\x7c1\x7c5\x7c4\x7c3\x7c0'['split']('\x7c'),_0x4ea088=0x0;while(!![]){switch(_0x2a4914[_0x4ea088++]){case'0':this['leParser']=this['bin\x5fparser'](![],!![]);continue;case'1':this['version']=_0x5c46ed;continue;case'2':this['inited']=!![];continue;case'3':this['beParser']=this['bin\x5fparser'](!![],!![]);continue;case'4':this['resetRefs']();continue;case'5':this['s']='';continue;}break;}},'\x74\x6f\x53\x74\x72\x69\x6e\x67':function(){return this['s'];},'\x72\x65\x73\x65\x74\x52\x65\x66\x73':function(){if(!this['inited']){this['show\x5finit\x5ferror']();return;}this['refObj']=[];this['refStr']=[];this['refTra']=[];},'\x62\x69\x6e\x5f\x70\x61\x72\x73\x65\x72':function(_0x7243c0,_0x3b758b){if(!this['inited']){this['show\x5finit\x5ferror']();return;}var _0x109186=new BinaryParser();_0x109186['init'](_0x7243c0,_0x3b758b);return _0x109186;},'\x77\x72\x69\x74\x65\x48\x65\x61\x64\x65\x72':function(_0x538eb3){var _0x5c1b10='2\x7c8\x7c7\x7c4\x7c5\x7c6\x7c0\x7c3\x7c1'['split']('\x7c'),_0x1c382a=0x0;while(!![]){switch(_0x5c1b10[_0x1c382a++]){case'0':var _0x58f633=this['writeValue'](_0x538eb3['value']);continue;case'1':return _0x58f633;continue;case'2':this['resetRefs']();continue;case'3':this['version']=_0x286ce5;continue;case'4':this['writeUTF8'](_0x538eb3['name']);continue;case'5':this['writeU8'](_0x538eb3['mustunderstand']?0x1:0x0);continue;case'6':this['s']+='\u00ff\u00ff\u00ff\u00ff';continue;case'7':this['version']=AmfTypes['AMF0'];continue;case'8':var _0x286ce5=this['version'];continue;}break;}},'\x77\x72\x69\x74\x65\x4d\x65\x73\x73\x61\x67\x65':function(_0x5d881b,_0x22a547){var _0x3b7a4a={'\x68\x59\x55':function _0x3c5737(_0x421f94,_0x363d3b){return _0x421f94===_0x363d3b;}};var _0x3bcbc='10\x7c7\x7c1\x7c4\x7c6\x7c8\x7c9\x7c2\x7c0\x7c3\x7c5'['split']('\x7c'),_0x50a591=0x0;while(!![]){switch(_0x3bcbc[_0x50a591++]){case'0':this['writeValue'](_0x5d881b['value']);continue;case'1':this['version']=AmfTypes['AMF0'];continue;case'2':this['version']=_0x22a547;continue;case'3':this['version']=_0x247527;continue;case'4':this['writeUTF8'](_0x5d881b['requestURI']);continue;case'5':return this['s'];continue;case'6':this['writeUTF8'](_0x5d881b['responseURI']);continue;case'7':var _0x247527=this['version'];continue;case'8':this['s']+='\u00ff\u00ff\u00ff\u00ff';continue;case'9':if(_0x3b7a4a['hYU'](_0x22a547,AmfTypes['AMF3'])){this['writeU8'](AmfTypes['AMF0\x5fAMV\x5fPLUS']);}continue;case'10':this['resetRefs']();continue;}break;}},'\x77\x72\x69\x74\x65\x4e\x61\x6d\x65':function(_0x45dd31){var _0x101ddc={'\x56\x65\x6e':function _0xc583fe(_0x4ada9d,_0x4550cb){return _0x4ada9d===_0x4550cb;}};if(_0x101ddc['Ven']('string',typeof _0x45dd31)){return this['writeUTF8'](_0x45dd31,![]);}return this['writeUndefined']();},'\x77\x72\x69\x74\x65\x56\x61\x6c\x75\x65':function(_0x4eaab0){var _0x859111={'\x7a\x42\x6d':function _0x5848c4(_0x243b7d,_0x562e9e){return _0x243b7d===_0x562e9e;},'\x54\x54\x46':function _0x3708eb(_0x270570,_0x59466a){return _0x270570===_0x59466a;},'\x55\x72\x45':function _0x1dc2fc(_0x1067ab,_0x418292){return _0x1067ab===_0x418292;},'\x57\x5a\x79':function _0x35c829(_0x458af9,_0x584b69){return _0x458af9 instanceof _0x584b69;}};var _0x1a844d='3\x7c6\x7c1\x7c2\x7c4\x7c0\x7c7\x7c5'['split']('\x7c'),_0x56a7e6=0x0;while(!![]){switch(_0x1a844d[_0x56a7e6++]){case'0':if(_0x859111['zBm']('function',typeof _0x4eaab0['push'])){return this['writeArray'](_0x4eaab0);}continue;case'1':if(_0x859111['TTF']('string',typeof _0x4eaab0)){return this['writeUTF8'](_0x4eaab0,!![]);}continue;case'2':if(_0x859111['TTF']('number',typeof _0x4eaab0)){return this['writeNumber'](_0x4eaab0,!![]);}continue;case'3':if(_0x859111['TTF'](_0x4eaab0,undefined)){return this['writeUndefined']();}continue;case'4':if(_0x859111['TTF']('boolean',typeof _0x4eaab0)){return this['writeBool'](_0x4eaab0);}continue;case'5':return this['writeObject'](_0x4eaab0);continue;case'6':if(_0x859111['UrE'](_0x4eaab0,null)){return this['writeNull']();}continue;case'7':if(_0x859111['WZy'](_0x4eaab0,Date)){return this['writeDate'](_0x4eaab0);}continue;}break;}},'\x77\x72\x69\x74\x65\x55\x6e\x64\x65\x66\x69\x6e\x65\x64':function(){var _0x1b032b={'\x6e\x42\x59':function _0x5814c6(_0x5bd8a0,_0x1b5e57){return _0x5bd8a0===_0x1b5e57;}};var _0x1449d0=_0x1b032b['nBY'](this['version'],AmfTypes['AMF3'])?AmfTypes['AMF3\x5fUNDEFINED']:AmfTypes['AMF0\x5fUNDEFINED'];return this['writeU8'](_0x1449d0);},'\x77\x72\x69\x74\x65\x4e\x75\x6c\x6c':function(){var _0x4f6107={'\x63\x48\x4f':function _0x1767f4(_0x788145,_0xaeb5b3){return _0x788145===_0xaeb5b3;}};var _0x31b104=_0x4f6107['cHO'](this['version'],AmfTypes['AMF3'])?AmfTypes['AMF3\x5fNULL']:AmfTypes['AMF0\x5fNULL'];return this['writeU8'](_0x31b104);},'\x77\x72\x69\x74\x65\x42\x6f\x6f\x6c':function(_0x49763b){var _0x2c30ff={'\x4c\x64\x48':function _0x2870d5(_0x335045,_0x30cb5a){return _0x335045===_0x30cb5a;}};if(_0x2c30ff['LdH'](this['version'],AmfTypes['AMF3'])){var _0x184ebf=_0x49763b?AmfTypes['AMF3\x5fTRUE']:AmfTypes['AMF3\x5fFALSE'];return this['writeU8'](_0x184ebf);}else{this['writeU8'](AmfTypes['AMF0\x5fBOOLEAN']);return this['writeU8'](_0x49763b?0x1:0x0);}},'\x77\x72\x69\x74\x65\x55\x54\x46\x38':function(_0x5c9a0d,_0x660dda){var _0x33f53a={'\x44\x6a\x42':function _0x28959a(_0x49daf1,_0x31bee0){return _0x49daf1!==_0x31bee0;},'\x47\x4f\x77':function _0x4351d9(_0xc60a3b,_0xf2cd17){return _0xc60a3b===_0xf2cd17;},'\x77\x6a\x56':function _0x357bfb(_0x7d25d9,_0x4d8300){return _0x7d25d9|_0x4d8300;},'\x6a\x58\x6b':function _0x273efe(_0x416685,_0x326b71){return _0x416685<<_0x326b71;}};var _0x2a868f='2\x7c1\x7c0\x7c4\x7c3'['split']('\x7c'),_0x36f20f=0x0;while(!![]){switch(_0x2a868f[_0x36f20f++]){case'0':var _0x1024f8=_0x14405c['length'];continue;case'1':var _0x14405c=utf8['expand'](_0x5c9a0d);continue;case'2':if(_0x33f53a['DjB'](typeof _0x5c9a0d,'string')){_0x5c9a0d='';}continue;case'3':return this['s']+=_0x14405c;continue;case'4':if(_0x33f53a['GOw'](this['version'],AmfTypes['AMF3'])){if(_0x660dda){this['writeU8'](AmfTypes['AMF3\x5fSTRING']);}var _0x37ec2c=_0x33f53a['wjV'](_0x33f53a['jXk'](_0x1024f8,0x1),0x1);this['writeU29'](_0x37ec2c);}else{if(_0x660dda){this['writeU8'](AmfTypes['AMF0\x5fSTRING']);}this['writeU16'](_0x1024f8);}continue;}break;}},'\x77\x72\x69\x74\x65\x41\x72\x72\x61\x79':function(_0x413dac){var _0x20f5e5={'\x49\x76\x69':function _0x1712e2(_0x39ef95,_0x364dac){return _0x39ef95===_0x364dac;},'\x53\x47\x50':function _0x2dbca8(_0x58bbaa,_0x33907e){return _0x58bbaa!==_0x33907e;},'\x53\x4e\x44':function _0x11a052(_0x3dc36d,_0x42d8da){return _0x3dc36d<<_0x42d8da;},'\x47\x53\x62':function _0x2462c4(_0x3400d9,_0x4f8f29){return _0x3400d9|_0x4f8f29;},'\x59\x6f\x58':function _0xaf7ac2(_0x1a2654,_0x21651b){return _0x1a2654<<_0x21651b;},'\x58\x57\x68':function _0x5f0c58(_0x15ffe0,_0x37164d){return _0x15ffe0<_0x37164d;}};var _0x101d28=_0x413dac['length'];if(_0x20f5e5['Ivi'](this['version'],AmfTypes['AMF3'])){var _0x4a75c4='3\x7c6\x7c0\x7c1\x7c5\x7c2\x7c4'['split']('\x7c'),_0x17b957=0x0;while(!![]){switch(_0x4a75c4[_0x17b957++]){case'0':if(_0x20f5e5['SGP'](_0x35b93b,-0x1)){return this['writeU29'](_0x20f5e5['SND'](_0x35b93b,0x1));}continue;case'1':this['refObj']['push'](_0x413dac);continue;case'2':this['writeU29'](_0x385866);continue;case'3':this['writeU8'](AmfTypes['AMF3\x5fARRAY']);continue;case'4':this['writeUTF8']('');continue;case'5':var _0x385866=_0x20f5e5['GSb'](_0x20f5e5['YoX'](_0x101d28,0x1),0x1);continue;case'6':var _0x35b93b=this['refObj']['indexOf'](_0x413dac);continue;}break;}}else{this['writeU8'](AmfTypes['AMF0\x5fSTRICT\x5fARRAY']);this['writeU32'](_0x101d28);}for(var _0x33f994=0x0;_0x20f5e5['XWh'](_0x33f994,_0x101d28);_0x33f994++){this['writeValue'](_0x413dac[_0x33f994]);}return this['s'];},'\x77\x72\x69\x74\x65\x4f\x62\x6a\x65\x63\x74':function(_0x55c254){var _0x318cc5={'\x4e\x6c\x5a':function _0x1b5a4b(_0x366334,_0x2d7612){return _0x366334!==_0x2d7612;},'\x4b\x58\x74':function _0x19cdbc(_0x1b53f8,_0xe3bb8){return _0x1b53f8<<_0xe3bb8;}};var _0x4f8b3e='5\x7c7\x7c6\x7c8\x7c3\x7c2\x7c4\x7c0\x7c1'['split']('\x7c'),_0xfcd852=0x0;while(!![]){switch(_0x4f8b3e[_0xfcd852++]){case'0':for(var _0x2497de in _0x55c254){if(_0x318cc5['NlZ'](typeof _0x55c254[_0x2497de],'function')){this['writeUTF8'](_0x2497de);this['writeValue'](_0x55c254[_0x2497de]);}}continue;case'1':return this['writeUTF8']('');continue;case'2':this['writeU29'](0xb);continue;case'3':this['refObj']['push'](_0x55c254);continue;case'4':this['writeUTF8'](null);continue;case'5':if(_0x318cc5['NlZ'](this['version'],AmfTypes['AMF3'])){throw new Error('This\x20library\x20doesn\x27t\x20support\x20AMF0\x20objects\x2c\x20use\x20AMF3');}continue;case'6':var _0x3f06ea=this['refObj']['indexOf'](_0x55c254);continue;case'7':this['writeU8'](AmfTypes['AMF3\x5fOBJECT']);continue;case'8':if(_0x318cc5['NlZ'](_0x3f06ea,-0x1)){return this['writeU29'](_0x318cc5['KXt'](_0x3f06ea,0x1));}continue;}break;}},'\x77\x72\x69\x74\x65\x44\x61\x74\x65':function(_0x57d781){var _0x1f4414={'\x64\x51\x75':function _0x4ea888(_0x49e73d,_0x3e93e8){return _0x49e73d!==_0x3e93e8;}};if(_0x1f4414['dQu'](this['version'],AmfTypes['AMF3'])){throw new Error('This\x20library\x20doesn\x27t\x20support\x20AMF0\x20objects\x2c\x20use\x20AMF3');}this['writeU8'](AmfTypes['AMF3\x5fDATE']);this['writeU29'](0x1);return this['writeDouble'](_0x57d781['getTime']());},'\x77\x72\x69\x74\x65\x4e\x75\x6d\x62\x65\x72':function(_0x5a3b31,_0x4b699b){var _0x3e0efd={'\x49\x4f\x52':function _0xb5b5ca(_0x22ff29,_0xa24ac){return _0x22ff29(_0xa24ac);},'\x53\x67\x70':function _0x5dfe80(_0x4eb7ea,_0x8c78c6){return _0x4eb7ea===_0x8c78c6;},'\x6b\x7a\x4d':function _0x5b4ca5(_0x16f05c,_0xe0aac7){return _0x16f05c>=_0xe0aac7;},'\x48\x63\x51':function _0x2d3907(_0xa4fd1,_0xd74a73){return _0xa4fd1<_0xd74a73;}};var _0x16add9=_0x3e0efd['IOR'](parseInt,_0x5a3b31);if(_0x3e0efd['Sgp'](_0x16add9,_0x5a3b31)&&_0x3e0efd['kzM'](_0x16add9,0x0)&&_0x3e0efd['HcQ'](_0x16add9,0x20000000)){return this['writeU29'](_0x5a3b31,_0x4b699b);}return this['writeDouble'](_0x5a3b31,_0x4b699b);},'\x77\x72\x69\x74\x65\x44\x6f\x75\x62\x6c\x65':function(_0x184232,_0x103643){var _0x4116b7={'\x43\x57\x51':function _0xd60598(_0x11886b,_0xd06412){return _0x11886b===_0xd06412;},'\x78\x69\x6f':function _0xeecba5(_0x5bad34,_0x4a9c0b){return _0x5bad34(_0x4a9c0b);}};if(_0x103643){var _0x252c71=_0x4116b7['CWQ'](this['version'],AmfTypes['AMF3'])?AmfTypes['AMF3\x5fDOUBLE']:AmfTypes['AMF0\x5fNUMBER'];this['writeU8'](_0x252c71);}if(_0x4116b7['xio'](isNaN,_0x184232)){this['s']+='\x00\x00\x00\x00\x00\x00\u00f8\x7f';}else{this['s']+=this['beParser']['fromDouble'](_0x184232);}return this['s'];},'\x77\x72\x69\x74\x65\x55\x38':function(_0x1fe897){return this['s']+=this['beParser']['fromByte'](_0x1fe897);},'\x77\x72\x69\x74\x65\x55\x31\x36':function(_0x557ba8){return this['s']+=this['beParser']['fromWord'](_0x557ba8);},'\x77\x72\x69\x74\x65\x55\x33\x32':function(_0x1dde39){return this['s']+=this['beParser']['fromDWord'](_0x1dde39);},'\x77\x72\x69\x74\x65\x55\x32\x39':function(_0x4a2716,_0x338b9b){var _0x18084d={'\x5a\x6a\x56':function _0x3a47ea(_0x305a11,_0x1c5799){return _0x305a11<_0x1c5799;},'\x53\x41\x42':function _0x51462f(_0x48ba09,_0x33f0a3){return _0x48ba09<_0x33f0a3;},'\x71\x4e\x76':function _0x2c2f7f(_0x599654,_0xe643dc){return _0x599654&_0xe643dc;},'\x70\x5a\x76':function _0x210adb(_0x47a00b,_0x523c36){return _0x47a00b|_0x523c36;},'\x73\x79\x43':function _0x55c547(_0x3ca7b0,_0x1e483f){return _0x3ca7b0>>_0x1e483f;},'\x48\x72\x65':function _0x1e59f0(_0x5176a5,_0xd48674){return _0x5176a5<_0xd48674;},'\x70\x52\x78':function _0x1cc0b7(_0x975cfd,_0x22543a){return _0x975cfd&_0x22543a;},'\x68\x67\x58':function _0x1744fd(_0x56ce4d,_0x5b4a13){return _0x56ce4d|_0x5b4a13;},'\x77\x6f\x6d':function _0x51c718(_0x3cc7af,_0x1a8d14){return _0x3cc7af|_0x1a8d14;},'\x6a\x79\x51':function _0x2d2e3a(_0x39b3ae,_0x5b2e58){return _0x39b3ae+_0x5b2e58;},'\x54\x4a\x4a':function _0x10cf3f(_0x3ea294,_0x3987d8){return _0x3ea294+_0x3987d8;},'\x6a\x4d\x47':function _0x4f34a4(_0x437dae,_0x2f154d){return _0x437dae!=_0x2f154d;},'\x70\x7a\x47':function _0xcd65ef(_0x2048b9,_0x1140a8){return _0x2048b9!=_0x1140a8;}};var _0x1685da='4\x7c1\x7c0\x7c5\x7c6\x7c2\x7c3'['split']('\x7c'),_0x1e9afc=0x0;while(!![]){switch(_0x1685da[_0x1e9afc++]){case'0':if(_0x18084d['ZjV'](_0x4a2716,0x80)){_0x42c419=_0x4a2716;}else if(_0x18084d['SAB'](_0x4a2716,0x4000)){_0x4f4a17=_0x18084d['qNv'](_0x4a2716,0x7f);_0x42c419=_0x18084d['pZv'](0x80,_0x18084d['qNv'](_0x18084d['syC'](_0x4a2716,0x7),0x7f));}else if(_0x18084d['Hre'](_0x4a2716,0x200000)){_0x4aa6b8=_0x18084d['qNv'](_0x4a2716,0x7f);_0x4f4a17=_0x18084d['pZv'](0x80,_0x18084d['pRx'](_0x4a2716>>=0x7,0x7f));_0x42c419=_0x18084d['hgX'](0x80,_0x18084d['pRx'](_0x4a2716>>=0x7,0x7f));}else if(_0x18084d['Hre'](_0x4a2716,0x20000000)){_0x487a70=_0x18084d['pRx'](_0x4a2716,0xff);_0x4aa6b8=_0x18084d['hgX'](0x80,_0x18084d['pRx'](_0x4a2716>>=0x8,0x7f));_0x4f4a17=_0x18084d['wom'](0x80,_0x18084d['pRx'](_0x4a2716>>=0x7,0x7f));_0x42c419=_0x18084d['wom'](0x80,_0x18084d['pRx'](_0x4a2716>>=0x7,0x7f));}else{throw new Error(_0x18084d['jyQ'](_0x18084d['TJJ']('U29\x20range\x20error\x2c\x20',_0x4a2716),'\x20\x3e\x200x1FFFFFFF'));}continue;case'1':var _0x42c419,_0x4f4a17,_0x4aa6b8,_0x487a70;continue;case'2':if(_0x18084d['jMG'](_0x4f4a17,null)){this['writeU8'](_0x4f4a17);if(_0x18084d['pzG'](_0x4aa6b8,null)){this['writeU8'](_0x4aa6b8);if(_0x18084d['pzG'](_0x487a70,null)){this['writeU8'](_0x487a70);}}}continue;case'3':return this['s'];continue;case'4':if(_0x18084d['Hre'](_0x4a2716,0x0)){throw new Error(_0x18084d['TJJ'](_0x18084d['TJJ']('U29\x20range\x20error\x2c\x20',_0x4a2716),'\x20\x3c\x200'));}continue;case'5':if(_0x338b9b){this['writeU8'](AmfTypes['AMF3\x5fINTEGER']);}continue;case'6':this['writeU8'](_0x42c419);continue;}break;}}});