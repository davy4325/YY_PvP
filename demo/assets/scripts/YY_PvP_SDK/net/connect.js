const net_queue=require('\x2e\x2fnet\x5fqueue');const amf=require('\x2e\x2fAMF\x2famf');var connect=cc['Class']({'\x70\x72\x6f\x70\x65\x72\x74\x69\x65\x73':{'\x6e\x65\x74\x5f\x73\x74\x61\x74\x75\x73':{'\x64\x65\x66\x61\x75\x6c\x74':null,'\x74\x79\x70\x65':cc['Label']}},'\x69\x6e\x69\x74':function(_0x45c9d1){this['\x5fwsiSendBinary']=null;this['url']=_0x45c9d1;},'\x62\x79\x74\x65\x73\x54\x6f\x49\x6e\x74\x32':function(_0x313f51,_0x49d4d6){var _0x106071={'\x6b\x79\x62':function _0x545212(_0x261dc2,_0x18322e){return _0x261dc2|_0x18322e;},'\x78\x74\x57':function _0x516a19(_0x1c9dcf,_0x2816e2){return _0x1c9dcf<<_0x2816e2;}};var _0x16ca74=_0x106071['kyb'](_0x313f51,_0x106071['xtW'](_0x49d4d6,0x8));return _0x16ca74;},'\x63\x6c\x6f\x73\x65':function(){this['\x5fwsiSendBinary']['close']();},'\x63\x6f\x6e\x6e\x65\x63\x74\x5f\x74\x6f':function(_0x4473e1){var _0x599068={'\x67\x51\x76':function _0x2c33cb(_0x2c63c9,_0x2bce9d){return _0x2c63c9!=_0x2bce9d;}};var _0x5ce26a='8\x7c5\x7c1\x7c0\x7c6\x7c7\x7c3\x7c4\x7c2\x7c9'['split']('\x7c'),_0x39a3ad=0x0;while(!![]){switch(_0x5ce26a[_0x39a3ad++]){case'0':this['\x5fwsiSendBinary']=new WebSocket(this['url']);continue;case'1':var _0x14189c=this['net\x5fstatus'];continue;case'2':this['\x5fwsiSendBinary']['onerror']=function(_0x18eaea){net_queue['instance']()['push'](0xc,'');if(_0x340dc3['Wzt'](_0x14189c,null)){_0x14189c['string']='WebSocket\x0a\u53d1\u9001\u4e8c\u8fdb\u5236\u9047\u5230\u9519\u8bef\x2e';}};continue;case'3':var _0x45b9d2=this;continue;case'4':this['\x5fwsiSendBinary']['onmessage']=function(_0x6dc5be){var _0x34d872={'\x67\x47\x77':function _0x1d67e8(_0x5aa682,_0x16f141){return _0x5aa682!=_0x16f141;},'\x6c\x66\x70':function _0x188009(_0xaae75c,_0x17c91e){return _0xaae75c<_0x17c91e;}};var _0x25d5c2='1\x7c3\x7c2\x7c5\x7c4\x7c0'['split']('\x7c'),_0x448b26=0x0;while(!![]){switch(_0x25d5c2[_0x448b26++]){case'0':if(_0x34d872['gGw'](_0x14189c,null)){_0x14189c['string']='WebSocket\x0a\u6536\u5230\u54cd\u5e94\x2e';}continue;case'1':var _0x696a26=new Uint8Array(_0x6dc5be['data']);continue;case'2':var _0x402bbb='';continue;case'3':var _0x5c23bb=_0x45b9d2['bytesToInt2'](_0x696a26[0x0],_0x696a26[0x1]);continue;case'4':net_queue['instance']()['push'](_0x5c23bb,_0x402bbb);continue;case'5':for(var _0x1fff67=0x2;_0x34d872['lfp'](_0x1fff67,_0x696a26['length']);_0x1fff67++){_0x402bbb+=String['fromCharCode'](_0x696a26[_0x1fff67]);}continue;}break;}};continue;case'5':this['init'](_0x4473e1);continue;case'6':this['\x5fwsiSendBinary']['binaryType']='arraybuffer';continue;case'7':this['\x5fwsiSendBinary']['onopen']=function(_0x44bda3){net_queue['instance']()['push'](0xa,'');if(_0x340dc3['czi'](_0x14189c,null)){_0x14189c['string']='WebSocket\x0a\u53d1\u9001\u4e8c\u8fdb\u5236WS\u5df2\u6253\u5f00\x2e';}};continue;case'8':var _0x340dc3={'\x63\x7a\x69':function _0x59d215(_0x46623d,_0x2e93cd){return _0x599068['gQv'](_0x46623d,_0x2e93cd);},'\x57\x7a\x74':function _0x5922c3(_0x3801fd,_0x45f4ff){return _0x599068['gQv'](_0x3801fd,_0x45f4ff);}};continue;case'9':this['\x5fwsiSendBinary']['onclose']=function(_0x3a2b3b){net_queue['instance']()['push'](0xb,'');if(_0x340dc3['Wzt'](_0x14189c,null)){_0x14189c['string']='WebSocket\x0awebsocket\x20\u5b9e\u4f8b\u5df2\u5173\u95ed\x2e';}this['\x5fwsiSendBinary']=null;};continue;}break;}},'\x73\x65\x6e\x64\x57\x65\x62\x53\x6f\x63\x6b\x65\x74\x42\x69\x6e\x61\x72\x79':function(_0x5cced8){var _0x19a311={'\x4a\x57\x68':function _0x537032(_0x1d5f63,_0x3a083c){return _0x1d5f63===_0x3a083c;},'\x62\x6f\x70':function _0x4a3bc1(_0x3beb78,_0x156445){return _0x3beb78!=_0x156445;},'\x47\x47\x4d':function _0x5ab99b(_0x2ca3c0,_0x326a38){return _0x2ca3c0+_0x326a38;}};if(!this['\x5fwsiSendBinary']){return;}var _0x232a08=this['net\x5fstatus'];if(_0x19a311['JWh'](this['\x5fwsiSendBinary']['readyState'],WebSocket['OPEN'])){if(_0x19a311['bop'](_0x232a08,null)){_0x232a08['string']='WebSocket\x0a\u53d1\u9001\u4e8c\u8fdb\u5236WS\u7b49\u5f85\u4e2d\x2e\x2e\x2e';}this['\x5fwsiSendBinary']['send'](_0x5cced8);}else{var _0x633841='send\x20binary\x20websocket\x20instance\x20wasn\x27t\x20ready\x2e\x2e\x2e';if(_0x19a311['bop'](_0x232a08,null)){_0x232a08['string']=_0x19a311['GGM']('WebSocket\x0a',_0x633841);}}},'\x73\x65\x6e\x64\x5f\x63\x6d\x64':function(_0x28f580,_0x5eee6d){var _0x2f02f9={'\x66\x78\x45':function _0xa68413(_0x37c5b4,_0x1f9369){return _0x37c5b4>_0x1f9369;},'\x55\x4d\x69':function _0x48244e(_0x923b69,_0x3f1497){return _0x923b69+_0x3f1497;},'\x73\x67\x5a':function _0xd5ff9e(_0x28036b,_0x89955d){return _0x28036b+_0x89955d;}};if(_0x2f02f9['fxE'](_0x5eee6d['length'],0x3e8)){throw new Error(_0x2f02f9['UMi'](_0x2f02f9['sgZ']('parameter\x20Length\x3a',_0x5eee6d['length']),'\x2cmust\x20be\x20less\x20than\x201000\x21\x21\x21'));}var _0x48fc2d=amf['get\x5fsend\x5fuint8\x5farray'](_0x28f580,_0x5eee6d);this['sendWebSocketBinary'](_0x48fc2d['buffer']);}});connect['\x5finstance']=null;connect['instance']=function(){if(!connect['\x5finstance']){connect['\x5finstance']=new connect();}return connect['\x5finstance'];};